{"ast":null,"code":"import ActionTypes from \"../constants/ActionTypes\";\nconst INITIAL_PRODUCT_STATE = {\n  products: []\n};\nconst CART_STATE = {\n  cart: [],\n  cartTotalAmount: 0\n};\nexport const productsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_PRODUCT_STATE;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case ActionTypes.SET_PRODUCTS:\n      return {\n        ...state,\n        products: payload\n      };\n    default:\n      return state;\n  }\n};\nexport const cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : CART_STATE;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case ActionTypes.ADD_TO_CART:\n      const item = state.cart.find(product => product.id === payload.id);\n      if (item) {\n        return {\n          ...state,\n          cart: state.cart.map(item => item.id === payload.id ? {\n            ...item,\n            quantity: item.quantity + 1,\n            subTotal: item.price * (item.quantity + 1)\n          } : item)\n        };\n      }\n      return {\n        ...state,\n        cart: [...state.cart, {\n          ...payload,\n          quantity: 1,\n          subTotal: 0\n        }]\n      };\n    case ActionTypes.REMOVE_FROM_CART:\n      return {\n        ...state,\n        cart: [...state.cart.filter(product => product !== payload)]\n      };\n    case ActionTypes.ADD_ONE:\n      return {\n        ...state,\n        cart: state.cart.map(product => product.id === payload.id ? {\n          ...product,\n          quantity: product.quantity + 1,\n          subTotal: product.price * (product.quantity + 1)\n        } : product)\n      };\n    case ActionTypes.SUB_ONE:\n      return {\n        ...state,\n        cart: state.cart.map(product => product.id === payload.id ? {\n          ...product,\n          quantity: product.quantity !== 1 ? product.quantity - 1 : 1,\n          subTotal: product.quantity !== 1 ? product.subTotal - product.price : product.subTotal\n        } : product)\n      };\n    case ActionTypes.CART_TOTAL:\n      let total = 0;\n      state.cart.forEach(product => total += Number(product.subTotal));\n      return {\n        ...state,\n        cartTotalAmount: total\n      };\n    default:\n      return state;\n  }\n};\nexport const selectedProductReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case ActionTypes.SELECTED_PRODUCT:\n      return {\n        ...state,\n        ...payload\n      };\n    case ActionTypes.REMOVE_SELECTED_PRODUCT:\n      return {};\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ActionTypes","INITIAL_PRODUCT_STATE","products","CART_STATE","cart","cartTotalAmount","productsReducer","state","type","payload","SET_PRODUCTS","cartReducer","ADD_TO_CART","item","find","product","id","map","quantity","subTotal","price","REMOVE_FROM_CART","filter","ADD_ONE","SUB_ONE","CART_TOTAL","total","forEach","Number","selectedProductReducer","SELECTED_PRODUCT","REMOVE_SELECTED_PRODUCT"],"sources":["C:/Users/User/Desktop/prjectreact/src/redux/reducers/AppReducer.js"],"sourcesContent":["import ActionTypes from \"../constants/ActionTypes\";\r\n\r\nconst INITIAL_PRODUCT_STATE = {\r\n    products: [],\r\n}\r\nconst CART_STATE = {\r\n    cart: [],\r\n    cartTotalAmount: 0,\r\n}\r\n\r\nexport const productsReducer = (state = INITIAL_PRODUCT_STATE, { type, payload }) => {\r\n    switch (type) {\r\n        case ActionTypes.SET_PRODUCTS:\r\n            return {\r\n                ...state,\r\n                products: payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const cartReducer = (state = CART_STATE, { type, payload }) => {\r\n\r\n    switch (type) {\r\n        case ActionTypes.ADD_TO_CART:\r\n            const item = state.cart.find(\r\n                product => product.id === payload.id,\r\n            );\r\n            if (item) {\r\n                return {\r\n                    ...state,\r\n                    cart: state.cart.map(item => item.id === payload.id\r\n                        ? {\r\n                            ...item,\r\n                            quantity: item.quantity + 1,\r\n                            subTotal: item.price * (item.quantity + 1),\r\n                        }\r\n                        : item\r\n                    )\r\n                };\r\n            }\r\n            return {\r\n                ...state,\r\n                cart: [...state.cart, { ...payload, quantity: 1, subTotal: 0 }]\r\n            };\r\n\r\n        case ActionTypes.REMOVE_FROM_CART:\r\n            return {\r\n                ...state,\r\n                cart: [...state.cart.filter((product) => product !== payload)]\r\n            }\r\n        case ActionTypes.ADD_ONE:\r\n            return {\r\n                ...state,\r\n                cart: state.cart.map(product =>\r\n                    product.id === payload.id\r\n                        ? {\r\n                            ...product,\r\n                            quantity: product.quantity + 1,\r\n                            subTotal: product.price * (product.quantity + 1),\r\n                        } : product\r\n                )\r\n            };\r\n        case ActionTypes.SUB_ONE:\r\n            return {\r\n                ...state,\r\n                cart: state.cart.map((product) =>\r\n                    product.id === payload.id\r\n                        ? {\r\n                            ...product,\r\n                            quantity: product.quantity !== 1\r\n                                ? product.quantity - 1 : 1,\r\n                            subTotal: product.quantity !== 1\r\n                                ? product.subTotal - product.price : product.subTotal\r\n                        } : product\r\n                )\r\n            }\r\n        case ActionTypes.CART_TOTAL:\r\n            let total = 0;\r\n            state.cart.forEach(product => total += Number(product.subTotal))\r\n            return {\r\n                ...state,\r\n                cartTotalAmount: total\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const selectedProductReducer = (state = {}, { type, payload }) => {\r\n    switch (type) {\r\n        case ActionTypes.SELECTED_PRODUCT:\r\n            return { ...state, ...payload }\r\n\r\n        case ActionTypes.REMOVE_SELECTED_PRODUCT:\r\n            return {}\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}